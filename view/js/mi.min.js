!function(e){"use strict";var t=e("#base_url").val();function a(t,a){"success"==t?e.toast({heading:"Success!",text:a,icon:t,position:"top-left"}):e.toast({heading:"Error!",text:a,icon:t,position:"top-left"})}function i(t,i){e.ajax({type:"get",url:"api/",data:{get_default_shirt_data:1,type:t,id:i},beforeSend:function(){e("#loader").fadeIn()},success:function(a){var i=JSON.parse(a);1==i.cuff_status?e(".mi_choose.shirt_cuffs").show():(e(".mi_choose.shirt_cuffs").hide(),e("#mi_contrast_submenus li.cuff_depend").hide()),null!=i.design_price&&i.design_price>0?e("#mi_total_design_price").html("$"+i.design_price):e("#mi_total_design_price").html("$0"),e(".mi_main_canvas .shirt-container .front-shirt img.body").attr("src",i.front),e(".mi_main_canvas .shirt-container .back-shirt img.back").attr("src",i.back),e(".mi_main_canvas .shirt-container .external").css("background-image","url("+i.large+")"),"back-details"==t||"back-yoke"==t||"bottom-cut"==t?(e(".mi_main_canvas .shirt-container .front-shirt").hide(),e(".mi_main_canvas .shirt-container .back-shirt").show()):(e(".mi_main_canvas .shirt-container .front-shirt").show(),e(".mi_main_canvas .shirt-container .back-shirt").hide()),e("#loader").fadeOut("slow")},error:function(){a("error","Sorry! error to purse data!"),e("#loader").fadeOut("slow")}})}if(e(".mi_choose.have_dropdown").on("click",function(t){t.preventDefault();var a=e(this).attr("mi-name");"collar"==a?(e("#mi_main_menus").hide(),e("#mi_collar_submenus").fadeIn()):"pocket"==a?(e("#mi_main_menus").hide(),e("#mi_pocket_submenus").fadeIn()):"button-thread"==a?(e("#mi_main_menus").hide(),e("#mi_button_thread_submenus").fadeIn()):"contrasts"==a&&(e("#mi_main_menus").hide(),e("#mi_contrast_submenus").fadeIn())}),e(".back_main").on("click",function(t){t.preventDefault(),e(".mi_subbuttons_chooser").hide(),e("#mi_main_menus").fadeIn()}),e(".mi_tabber").on("click",function(t){t.preventDefault();var i=e(this).attr("mi-name");e.ajax({type:"post",url:"api/",data:{get_shirt_data:1,meta_name:i},success:function(t){var r=JSON.parse(t);1==r.status?(e("#fluidModalLeftInfoDemo .modal-content .modal-body ul.list-group").html(r.data),e("#fluidModalLeftInfoDemo .modal-content .modal-body .title_container").html(i.toUpperCase()),e("#fluidModalLeftInfoDemo").modal({backdrop:!1}),"fabrics"==i||"contrast-collar-total"==i||"contrast-collar-inside"==i||"contrast-cuff-total"==i||"contrast-cuff-inside"==i||"contrast-inside-fastening"==i||"contrast-button-fastening"==i||"contrast-outside-fastening"==i||"contrast-pocket-fabric"==i||"contrast-sleeve-placket"==i?e(".filter_show_button button#show_fab_filters").show():e(".filter_show_button button").hide()):a("error","Undefined data request")},error:function(){a("error","Sorry! error to purse data!")}})}),e(document).ready(function(){null!==document.getElementById("mi_fabric_list_container")&&e.ajax({type:"post",url:"api/",data:{get_shirt_data:1,meta_name:"fabrics"},success:function(t){var i=JSON.parse(t);1==i.status?e("#mi_fabric_list_container").html(i.data):a("error","Undefined data request")},error:function(){a("error","Sorry! error to purse data!")}})}),null!=e("#mi-front-shirt")&&e("#mi-front-shirt").length>0&&i("collar",e("#mi-front-shirt").val()),e("body").on("click","#fabricBaseContainer .mi-shirt-choose-element",function(t){t.preventDefault();var r=e(this).attr("mi-type"),n=e(this).attr("mi-id"),s=e("#mi-front-shirt").val();e(".mi-shirt-choose-element").each(function(){e(this).attr("mi-type")==r&&e(this).removeClass("active")}),e(this).addClass("active"),e.ajax({type:"post",url:"api/",data:{change_shirt_parts:1,change_type:r,changer_id:n,cart_id:s},success:function(t){!1,i(r,e("#mi-front-shirt").val())},error:function(){a("error","Sorry! error to purse data!")}})}),e("body").on("click","#fluidModalLeftInfoDemo .mi-shirt-choose-element",function(t){t.preventDefault();var r=e(this).attr("mi-type"),n=e(this).attr("mi-id"),s=e("#mi-front-shirt").val();e(".mi-shirt-choose-element").each(function(){e(this).attr("mi-type")==r&&e(this).removeClass("active")}),e(this).addClass("active"),e.ajax({type:"post",url:"api/",data:{change_shirt_parts:1,change_type:r,changer_id:n,cart_id:s},success:function(t){!1,i(r,e("#mi-front-shirt").val())},error:function(){a("error","Sorry! error to purse data!")}})}),e("#mi_reset_shirt_button").on("click",function(i){i.preventDefault(),e("#loader").show(),e.ajax({type:"post",url:"api/",data:{reset_shirt_design_req:1},success:function(e){console.log(e),window.location.href=t+"design.php"},error:function(){a("error","Sorry! error to purse data!"),e("#loader").fadeOut()}})}),e("#mi_reset_measurement_button").on("click",function(i){i.preventDefault();var r=e(this).val(),n=e(this).attr("mtype");e.ajax({type:"post",url:"api/",data:{reset_measurement_req:1,req_id:r},success:function(e){console.log(e),window.location.href=t+"measurement.php?mtype="+n},error:function(){a("error","Sorry! error to purse data!")}})}),e("#mi-zoom-out").on("click",function(t){t.preventDefault(),e(".shirt-container .external").removeClass("zoomed"),e(".shirt-container .front-shirt").fadeIn("slow"),e(this).hide(),e("#mi-zoom-in").fadeIn()}),e("#mi-zoom-in").on("click",function(t){t.preventDefault(),e(".shirt-container .front-shirt").hide();var a=e(".shirt-container .front-shirt .body").attr("src");e(".shirt-container .external").css("background-image",'url("'+a+'")'),e(".shirt-container .external").addClass("zoomed"),e(this).hide(),e("#mi-zoom-out").fadeIn()}),e("body").on("blur","#mi_embroidery_text",function(t){t.preventDefault();var r=e(this).val(),n=e(this).attr("mi-cart");e.ajax({type:"post",url:"api/",data:{embroidery_text_req:1,text:r,cart:n},success:function(t){console.log(t),i("collar",e("#mi-front-shirt").val())},error:function(){a("error","Sorry! error to purse data!")}})}),e("body").on("change","#mi_embroidery_placement",function(t){t.preventDefault();var r=e(this).find(":selected").val(),n=e(this).attr("mi-cart"),s=e("#mi_embroidery_text").val();e(this).find(":selected").attr("selected"),e.ajax({type:"post",url:"api/",data:{embroidery_placement_req:1,place:r,text:s,cart:n},success:function(t){console.log(t),i("collar",e("#mi-front-shirt").val())},error:function(){a("error","Sorry! error to purse data!")}})}),e("body").on("click",".mi_embroidery_fonts li",function(t){t.preventDefault();var r=e(this).attr("mi-font"),n=e(this).attr("mi-cart");e(".mi_embroidery_fonts li").removeClass("active"),e(this).addClass("active"),e.ajax({type:"post",url:"api/",data:{embroidery_font_req:1,font:r,cart:n},success:function(t){console.log(t),i("collar",e("#mi-front-shirt").val())},error:function(){a("error","Sorry! error to purse data!")}})}),e("body").on("click",".mi_embroidery_thread li",function(t){t.preventDefault();var r=e(this).attr("mi-val"),n=e(this).attr("mi-cart");e(".mi_embroidery_thread li").removeClass("active"),e(this).addClass("active"),e.ajax({type:"post",url:"api/",data:{embroidery_thread_req:1,thread:r,cart:n},success:function(t){console.log(t),i("collar",e("#mi-front-shirt").val())},error:function(){a("error","Sorry! error to purse data!")}})}),e("#measure_idct")&&1==e("#measure_idct").attr("mtype"))var r={neck:"img/measurement/neck.jpg",chest:"img/measurement/chest.jpg",waist:"img/measurement/waist.jpg",hip:"img/measurement/realhip.jpg",seat:"img/measurement/hip.jpg",shirt_length:"img/measurement/shirtl.jpg",sholder_width:"img/measurement/back.jpg",arm_length:"img/measurement/arm.jpg",wrist:"img/measurement/cuff.jpg",bicep:"img/measurement/bicep.jpg"};else r={neck:"img/measurement/shirt/neck.jpg",chest:"img/measurement/shirt/chest.jpg",waist:"img/measurement/shirt/waist.jpg",hip:"img/measurement/shirt/hip.jpg",sleeve_width:"img/measurement/shirt/armpit.jpg",shirt_length:"img/measurement/shirt/shirtl.jpg",sholder_width:"img/measurement/shirt/back.jpg",arm_length:"img/measurement/shirt/arm_upper.jpg",wrist:"img/measurement/shirt/cuff.jpg"};function n(a){e("#mi_measurement_background").css("background-image",'url("'+t+a+'")')}n(r.neck),e("#mi_main_menus .mi_measure").on("click",function(t){t.preventDefault();var a=e(this).attr("mi-chooser"),i=r,s="";"neck"==a?(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.neck):"chest"==a?(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.chest):"waist"==a?(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.waist):"hip"==a?(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.hip):"seat"==a?(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.seat):"shirt_length"==a?(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.shirt_length):"sholder_width"==a?(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.sholder_width):"arm_length"==a?(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.arm_length):"wrist"==a?(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.wrist):"sleeve_width"==a?(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.sleeve_width):"bicep"==a&&(e("#mi_main_menus .mi_measure").removeClass("active"),e(this).addClass("active"),s=i.bicep),null!=s&&""!=s&&(n(s),e("#mi_measurement_background .measure-item").each(function(){this.attributes[1].value==a&&(e("#mi_measurement_background .measure-item").removeClass("active"),e(this).addClass("active"))}))}),e(".measure-closer").on("click",function(t){t.preventDefault(),e(this).parent("li").removeClass("active")});var s=1;(null!=e(".measurement_profile").val()&&e(".measurement_profile").val().length>0||""!=e(".measurement_profile").val())&&(s=2);var o={neck:e("#mi_neck_input").val(),chest:e("#mi_chest_input").val(),waist:e("#mi_waist_input").val(),hip:e("#mi_hip_input").val(),seat:e("#mi_seat_input").val(),shirt_length:e("#mi_shirtl_input").val(),sholder_width:e("#mi_sholder_input").val(),arm_length:e("#mi_arm_input").val(),bicep:e("#mi_bicep_input").val(),wrist:e("#mi_wrist_input").val(),sleeve_width:e("#mi_sleeve_width_input").val(),save:s,profile:e(".measurement_profile").val()};function c(t,a){e(t).css({background:a}),"none"==a?e("#mi_main_menus li.mi_measure").css({border:"none"}):e("#mi_main_menus li.mi_measure.active").css({border:"3px solid red"})}e("#mi_neck_input").on("change",function(t){t.preventDefault(),c("#mi_neck_input","none"),o.neck=e(this).val()}),e("#mi_chest_input").on("change",function(t){t.preventDefault(),c("#mi_chest_input","none"),o.chest=e(this).val()}),e("#mi_waist_input").on("change",function(t){t.preventDefault(),c("#mi_waist_input","none"),o.waist=e(this).val()}),e("#mi_hip_input").on("change",function(t){t.preventDefault(),c("#mi_hip_input","none"),o.hip=e(this).val()}),e("#mi_seat_input").on("change",function(t){t.preventDefault(),c("#mi_seat_input","none"),o.seat=e(this).val()}),e("#mi_shirtl_input").on("change",function(t){t.preventDefault(),c("#mi_shirtl_input","none"),o.shirt_length=e(this).val()}),e("#mi_sholder_input").on("change",function(t){t.preventDefault(),c("#mi_sholder_input","none"),o.sholder_width=e(this).val()}),e("#mi_arm_input").on("change",function(t){t.preventDefault(),c("#mi_arm_input","none"),o.arm_length=e(this).val()}),e("#mi_bicep_input").on("change",function(t){t.preventDefault(),c("#mi_bicep_input","none"),o.bicep=e(this).val()}),e("#mi_wrist_input").on("change",function(t){t.preventDefault(),c("#mi_wrist_input","none"),o.wrist=e(this).val()}),e("#mi_sleeve_width_input").on("change",function(t){t.preventDefault(),c("#mi_sleeve_width_input","none"),o.sleeve_width=e(this).val()}),e("#mi_save_measurement").on("click",function(t){t.preventDefault();var a=o,i=!1;""==a.neck||a.neck.length<=0?(c("#mi_neck_input","#a7110a63"),i=!1):(c("#mi_neck_input","none"),i=!0),""==a.chest||a.chest.length<=0?(c("#mi_chest_input","#a7110a63"),i=!1):(c("#mi_chest_input","none"),i=!0),""==a.waist||a.waist.length<=0?(c("#mi_waist_input","#a7110a63"),i=!1):(c("#mi_waist_input","none"),i=!0),""==a.hip||a.hip.length<=0?(c("#mi_hip_input","#a7110a63"),i=!1):(c("#mi_hip_input","none"),i=!0),""==a.seat||a.seat.length<=0?(c("#mi_seat_input","#a7110a63"),i=!1):(c("#mi_seat_input","none"),i=!0),""==a.shirt_length||a.shirt_length.length<=0?(c("#mi_shirtl_input","#a7110a63"),i=!1):(c("#mi_shirtl_input","none"),i=!0),""==a.sholder_width||a.sholder_width.length<=0?(c("#mi_sholder_input","#a7110a63"),i=!1):(c("#mi_sholder_input","none"),i=!0),""==a.arm_length||a.arm_length.length<=0?(c("#mi_arm_input","#a7110a63"),i=!1):(c("#mi_arm_input","none"),i=!0),""==a.bicep||a.bicep.length<=0?(c("#mi_bicep_input","#a7110a63"),i=!1):(c("#mi_bicep_input","none"),i=!0),""==a.wrist||a.wrist.length<=0?(c("#mi_wrist_input","#a7110a63"),i=!1):(c("#mi_wrist_input","none"),i=!0),1==i?(e("#mi_measurement_background .measure-item").removeClass("active"),e("#save_measure_confirmation").addClass("active")):console.log("Something is missing")}),e("input.measurement_profile").on("change",function(t){t.preventDefault(),e(this).val().length>0?o.save=2:o.save=1,o.profile=e(this).val()}),e("#confirmed_measurement").on("click",function(i){i.preventDefault(),0==o.save||o.profile.length<=0?a("error","Profile name is required"):e.ajax({type:"post",url:"api/",data:{mi_save_measurement:1,value:o,measure:e("#measure_idct").val()},success:function(e){var i=JSON.parse(e);"success"==i.status?(a(i.status,i.msg),window.location.replace(t+"cart.php")):a(i.status,i.msg)},error:function(){a("error","Sorry! error to purse data!")}})}),e("#confirmed_measurement_quick").on("click",function(i){i.preventDefault(),e.ajax({type:"post",url:"api/",data:{mi_save_measurement_quick:1,name:e("input.measurement_profile").val(),measure:e(this).val()},success:function(e){var i=JSON.parse(e);a(i.status,i.msg),"success"==i.status?setTimeout(function(){window.location.replace(t+"cart.php")},2e3):setTimeout(function(){window.location.replace(t+"choose_measurement.php")},2e3)},error:function(){a("error","Sorry! error to purse data!")}})}),e("#quick_measure_form").on("submit",function(t){t.preventDefault();var i=e(this).serialize();e.ajax({type:"post",url:"api/",data:i,success:function(t){var i=JSON.parse(t);a(i.status,i.msg),"success"==i.status&&(e(".mi_quick_measure").hide(),e(".mi_done_quick_measurement .quick_details_container").html(i.html),e(".mi_done_quick_measurement").fadeIn("slow"))},error:function(){a("error","Sorry! error to purse data!")}})}),e("#unconfirmed_measurement").on("click",function(i){i.preventDefault(),e.ajax({type:"post",url:"api/",data:{mi_save_measurement:1,value:o,measure:e("#measure_idct").val()},success:function(e){var i=JSON.parse(e);"success"==i.status?(a(i.status,i.msg),setTimeout(function(){window.location.replace(t+"cart.php")},1e3)):a(i.status,i.msg)},error:function(){a("error","Sorry! error to purse data!")}})}),e("#measurement_checker_request").on("click",function(i){i.preventDefault();var r=e("#measurement_choose").find(":selected").val();""==r||null==r?a("error","Please choose measurement first"):e.ajax({type:"post",url:"api/",data:{mi_check_measurement_req:1,value:r,user:e(this).val()},success:function(e){var i=JSON.parse(e);"success"==i.status&&(window.location.href=t+i.url),a(i.status,i.msg)},error:function(){a("error","Sorry! error to purse data!")}})}),e(".mi_filter_area .mi_filer_btn").on("click",function(t){t.preventDefault(),e(".filter_loader").show();var i=e(this).val();e.ajax({type:"post",url:"api/",data:{mi_filter_req_fabric:1,value:i},success:function(t){var a=JSON.parse(t);"success"==a.status&&e("#mi_fabric_list_container").html(a.data),e(".filter_loader").hide()},error:function(){a("error","Sorry! error to purse data!"),e(".filter_loader").hide()}})}),e(".mi_filter_area #fabric_Search_button").on("click",function(t){t.preventDefault(),e(".filter_loader").show();var i=e("#fabric_name_search").val();i.length>0?e.ajax({type:"post",url:"api/",data:{mi_search_req_fabric:1,valer:i},success:function(t){var a=JSON.parse(t);"success"==a.status&&e("#mi_fabric_list_container").html(a.data),e(".filter_loader").hide()},error:function(){a("error","Sorry! error to purse data!"),e(".filter_loader").hide()}}):e(".filter_loader").hide()}),e("#draggable").draggable(),e("body").on("click","#mi-designer-floating",function(t){t.preventDefault(),e("#draggable").hasClass("active")?e("#draggable").removeClass("active"):e("#draggable").addClass("active")}),e("body").on("click","#draggableCloser",function(t){t.preventDefault(),e("#draggable").removeClass("active")}),e("#back_to_quick_measure").on("click",function(t){t.preventDefault(),e(".mi_done_quick_measurement").hide(),e(".mi_done_quick_measurement_form").fadeIn()}),e("#show_fab_filters").on("click",function(t){t.preventDefault(),e(".mi_filter_area").fadeIn("slow"),e(this).hide(),e("#hide_fab_filters").show()}),e("#hide_fab_filters").on("click",function(t){t.preventDefault(),e(".mi_filter_area").hide(),e(this).hide(),e("#show_fab_filters").show()}),e("button#show_logger").on("click",function(t){t.preventDefault(),e(this).parent("div.text-center").hide(),e(".mi_cart_login_form_container").addClass("active")}),e("#contactSubmitForm").on("submit",function(t){t.preventDefault();var i=e(this).serialize();e.ajax({type:"post",url:"api/",data:i,success:function(e){var t=JSON.parse(e);200==t.code?(a("success",t.message),window.setTimeout(function(){location.reload()},3e3)):console.log("error")}})}),e("body").on("click",".mi_pro_info_popup",function(t){t.preventDefault();var a=e(this).attr("mi_fab");e.ajax({type:"post",url:"api/",data:{get_fabric_popup_data:1,fab_id:a},success:function(t){var a=JSON.parse(t);200==a.code?(e("#addBookDialog .modal-body").html(a.body),e("#addBookDialog").modal("show")):console.log("error")}})});var m=parseInt(e("#mi_main_menus li").length)-2,u=0;e("button.ni_nav_next").click(function(t){t.preventDefault(),u<100*m&&(u+=100,e("#mi_main_menus").css("margin-left","-"+u+"px"))}),e("button.ni_nav_prev").click(function(t){t.preventDefault(),u>0&&(u-=100,e("#mi_main_menus").css("margin-left","-"+u+"px"))}),e("#scroll_to_down").on("click",function(t){t.preventDefault(),e(".mi_main_canvas .external").css("background-position","bottom"),e(this).hide(),e("#scroll_to_top").fadeIn("slow")}),e("#scroll_to_top").on("click",function(t){t.preventDefault(),e(".mi_main_canvas .external").css("background-position","top"),e(this).hide(),e("#scroll_to_down").fadeIn("slow")}),e("#fabricBaseContainer .close").on("click",function(t){t.preventDefault(),e("#fabricBaseContainer").hide()}),e("#mi_mobile_fabric").on("click",function(t){t.preventDefault(),e("#fabricBaseContainer").fadeIn()}),e("button.cancelOrd").on("click",function(t){t.preventDefault();var a=e(this).val();e(".cancelOrder").val(a),e("#modalOrderCencellation").modal("show")}),e(".cancelOrder").on("click",function(t){t.preventDefault();var i=e(this).attr("value"),r=document.getElementById("form107").value;e.ajax({type:"post",url:"api/",data:{order_cancel_request:1,id:i,reason:r},success:function(e){var t=JSON.parse(e);"success"==t.status?(a(t.status,t.msg),setTimeout(function(){window.location.reload()},3e3)):a(t.status,t.msg)},error:function(){console.log("Ajax not working")}})}),e(".dltmes").on("click",function(t){t.preventDefault();var a=e(this).val();e(".deleteMes").val(a),e("#modalMeasurementDelete").modal("show")}),e(".deleteMes").on("click",function(t){t.preventDefault();var i=e(this).attr("value");e.ajax({type:"post",url:"api/",data:{mes_delete_request:1,id:i},success:function(e){var t=JSON.parse(e);"success"==t.status?(a(t.status,t.msg),setTimeout(function(){window.location.reload()},3e3)):a(t.status,t.msg)},error:function(){console.log("Ajax not working")}})})}(jQuery);